#Check if all 3 are running..Keep changing kafka1 kafka2
nc -vz kafka3 9092

#Start zookeeper server
bin/zookeeper-server-start.sh -daemon config/zookeeper.properties
#Start kafka-server
bin/kafka-server-start.sh -daemon config/server.properties

# create a topic
#Make sure you have put /kafka in server.properties
#zookeeper.connect=zookeeper1:2181,zookeeper2:2181,zookeeper3:2181/kafka
bin/kafka-topics.sh --zookeeper zookeeper1:2181/kafka --create --topic first_topic --replication-factor 1 --partitions 3
# produce data to the topic
bin/kafka-console-producer.sh --broker-list kafka1:9092 --topic first_topic
hi
hello
(exit)
# read that data
bin/kafka-console-consumer.sh --bootstrap-server kafka1:9092 --topic first_topic --from-beginning
# list kafka topics
bin/kafka-topics.sh --zookeeper zookeeper1:2181/kafka --list
